FROM eclipse-temurin:21-jdk

WORKDIR /app

COPY mvnw .
COPY pom.xml .
COPY .mvn .mvn
COPY src src

RUN chmod +x mvnw
RUN ./mvnw clean package -DskipTests

# üîë ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á chmod jar ‡πÄ‡∏õ‡πá‡∏ô executable ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ exec ‡∏°‡∏±‡∏ô‡∏ï‡∏£‡∏á ‡πÜ
# RUN chmod 755 target/backend-0.0.1-SNAPSHOT.jar   ‚ùå ‡πÄ‡∏≠‡∏≤‡∏≠‡∏≠‡∏Å‡πÑ‡∏î‡πâ

# ‚úÖ ‡πÉ‡∏ä‡πâ java -jar ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
CMD ["java", "-jar", "/app/target/backend-0.0.1-SNAPSHOT.jar"]
